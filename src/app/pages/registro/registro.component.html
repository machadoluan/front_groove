<p-toast [breakpoints]="{ '920px': { width: '100%', right: '0', left: '0' } }"></p-toast>

<div class="container-registro">
    <div class="content">
        <div class="logo">
            <img src="/img/logo.png" alt="logo">
        </div>

        <div class="foto">
            <img src="/img/imgCadastro-1.png" alt="foto">
        </div>

        <div class="cadastro">
            <span>Preencha abaixo seus dados pessoais reais</span>

            <form [formGroup]="registroForm">
                <div class="form-group">
                    <label for="nome-completo" [ngClass]="{'class': true}">Nome completo</label>
                    <input type="text" id="nome-completo" formControlName="nome"
                        [ngClass]="{'check': registroForm.get('nome')?.valid}" [(ngModel)]="dadosCadastro.nome"
                        placeholder="Bastião da Silva">
                    <i class="fa-solid fa-check-circle" *ngIf="registroForm.get('nome')?.valid"></i>

                </div>

                <div class="form-group">
                    <label for="dataNascimento">Data de nascimento</label>
                    <p-datepicker #dataNascimento id="dataNascimento" formControlName="dataNascimento"
                        [(ngModel)]="dadosCadastro.dataNascimento" class="custom-datepicker" placeholder="00/00/0000" />

                    <i class="fa-solid fa-check-circle" *ngIf="registroForm.get('dataNascimento')?.valid"></i>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" formControlName="email"
                        [ngClass]="{'check': registroForm.get('email')?.valid}" [(ngModel)]="dadosCadastro.email"
                        placeholder="bastiao@email.com">
                    <i class="fa-solid fa-check-circle" *ngIf="registroForm.get('email')?.valid"></i>
                </div>

                <div class="form-group">
                    <label for="whatsapp" [ngClass]="{'class': true}">Whatsapp</label>
                    <div class="d-flex">
                        <p-dropdown [options]="countryList" [(ngModel)]="selectedCountry" optionLabel="name"
                            (onChange)="onCountryChange($event)">
                            <ng-template let-country pTemplate="selectedItem">
                                <div class="country-item">
                                    <img [src]="'https://flagcdn.com/w20/' + country.code.toLowerCase() + '.png'"
                                        alt="flag" class="flag" />
                                    {{ country.code }}
                                </div>
                            </ng-template>

                            <ng-template let-country pTemplate="item">
                                <div class="country-item">
                                    <img [src]="'https://flagcdn.com/w20/' + country.code.toLowerCase() + '.png'"
                                        alt="flag" class="flag" />
                                    {{ country.label }} {{ country.dialCode }}
                                </div>
                            </ng-template>
                        </p-dropdown>


                        <input type="tel" id="whatsapp" formControlName="whatsapp"
                        [ngClass]="{'check': registroForm.get('whatsapp')?.valid}" 
                        [value]="selectedCountry.dialCode "
                        [prefix]=" selectedCountry.dialCode"
                        [mask]="phonePlaceholder"
                        [placeholder]="phonePlaceholder">
                 
                    
                    

                    </div>
                    <i class="fa-solid fa-check-circle" *ngIf="registroForm.get('whatsapp')?.valid"></i>

                </div>


                <div class="form-group">
                    <label for="indicacao">Fonte de indicação</label>
                    <p-select id="indicacao" formControlName="indicacao" [options]="indicacoes" optionLabel="label"
                        placeholder="Selecione uma opção" class="w-full"
                        [ngClass]="{'check': registroForm.get('indicacao')?.valid}">
                    </p-select>
                    <i class="fa-solid fa-check-circle" *ngIf="registroForm.get('indicacao')?.valid"></i>
                </div>




                <div class="checkbox">
                    <mat-checkbox formControlName="checkbox">
                        <span class="checkbox-label">Estou ciente que preciso ter acima de 18 anos para continuar</span>
                    </mat-checkbox>
                </div>




                <button type="submit" (click)="cadastrar()" [disabled]="registroForm.invalid">Avançar</button>
            </form>
        </div>
    </div>
</div>